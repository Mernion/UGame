cmake_minimum_required (VERSION 3.18)

project(SandboxDirectX)

if (WIN32)
	set(CMAKE_EXE_LINKER_FLAGS "${CMAKE_EXE_LINKER_FLAGS} /SUBSYSTEM:WINDOWS /ENTRY:wWinMainCRTStartup ")
endif (WIN32)

add_executable(SandboxDirectX Source/Sandbox.cpp)

target_link_libraries(SandboxDirectX PRIVATE UGame)

if (WIN32)
	target_compile_definitions(SandboxDirectX PRIVATE UG_PLATFORM_WINDOWS=1)
endif (WIN32)

set_target_properties(
    SandboxDirectX PROPERTIES
    VS_DEBUGGER_WORKING_DIRECTORY $<TARGET_FILE_DIR:SandboxDirectX>)

add_custom_command(TARGET SandboxDirectX POST_BUILD
                   COMMAND ${CMAKE_COMMAND} -E copy_directory
                       ${CMAKE_SOURCE_DIR}/SandboxDirectX/assets $<TARGET_FILE_DIR:SandboxDirectX>)
					   